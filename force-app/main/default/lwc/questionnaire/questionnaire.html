<template>
	<div class="" style="max-width:1800px; margin-bottom:16px;">
		<div class="">
			<div class="">
				<!-- <p class="slds-p-bottom_medium slds-p-horizontal_medium ">
					<lightning-formatted-rich-text value={showDisclosure}></lightning-formatted-rich-text>
				</p> -->

				<!-- Displays status message when an assessment is saved/ submitted --START-->
				<template if:true={showToast}>
					<c-Show-Toast-Message message-from-component={totastmessage} is-show-modal={showToast}
						is-sucess={success} onclosetoast={closeToastHandler}></c-Show-Toast-Message>
				</template>
				<!-- Displays status message when an assessment is saved/ submitted --END-->

				<div class="rtmvpc-card slds-p-around_medium">
					<!-- Displays button and picklist for navigations --START-->
					<div class="temp_flexbox_space-between slds-m-bottom_small">
						<div>
							<template lwc:if={showButtons.Section_Navigation.show}>
								<lightning-combobox name="Section Navigation" variant="label-hidden"
									value={showButtons.Section_Navigation.value}
									options={showButtons.Section_Navigation.options}
									onchange={section_navigationChangeHandler}>
								</lightning-combobox>
							</template>
						</div>
						<div>
							<template lwc:if={showButtons.Summary}>
								<lightning-button label="Summary" title="Summary" name="Summary" variant="brand"
									onclick={summaryClickHandler}>
								</lightning-button>
							</template>
						</div>
					</div>
					<!-- Displays button and picklist for navigations --END-->


					<div>
						<ul class="slds-accordion">
							<li class="slds-accordion__list-item">
								<section class={showAccordion}>
									<div class="slds-accordion__summary">
										<h2 class="slds-accordion__summary-heading">
											<button class="slds-button slds-button_reset slds-accordion__summary-action" onclick={handleAccordionSection} aria-controls="referenceId-21" aria-expanded="true">
											<span class="slds-accordion__summary-action-icon slds-button__icon slds-button__icon_left" style="margin-top:-5px;" aria-hidden="true">
												<lightning-icon icon-name="utility:chevrondown" size="x-small"></lightning-icon>
												</span>
												<span class="slds-accordion__summary-content" style="width:100%">
													<div style="width:100%; display:flex; justify-content:space-between">
														<div>Disclosure</div>
													</div>
												</span>
											</button>
										</h2>
									</div>
									<div class="slds-accordion__content" id="referenceId-21">Contains Assessment
										templates data</div>
								</section>
							</li>

							<li class="slds-accordion__list-item">
								<section class={showAccordionQuestions}>
									<template for:each={questionsAndAnswerss} for:item="questionaryEntry">
										<div class="slds-accordion__summary" key={questionaryEntry.section}>
											<h2 class="slds-accordion__summary-heading">
												<button class="slds-button slds-button_reset slds-accordion__summary-action" data-id={questionaryEntry.section} onclick={handleAccordionQuestion} aria-controls="referenceId-22" aria-expanded="true">
													<span class="slds-accordion__summary-action-icon slds-button__icon slds-button__icon_left" style="margin-top:-5px;" aria-hidden="true">
														<lightning-icon icon-name="utility:chevrondown" size="x-small"></lightning-icon>
													</span>
													<span class="slds-accordion__summary-content" style="width:100%">
														<div style="width:100%; display:flex; justify-content:space-between">
															<div key={questionaryEntry.section}>{questionaryEntry.section}</div>
															<div class="slds-accordion__summary-contentrht" key={questionaryEntry.section}>
																<div class="slds-grid slds-wrap slds-gutters slds-p-right_small" key={questionaryEntry.section}>
																	<div class="slds-col" title="Responses" key={questionaryEntry.section}>
																		<lightning-icon icon-name="utility:number_input" alternative-text="Responses" size="x-small" title="Responses"></lightning-icon>
																		&nbsp;<span> : {questionaryEntry.numberOfResponses}/{questionaryEntry.numberOfQuestions}</span>
																	</div>
																	<div class="slds-col" title="% Completed" key={questionaryEntry.section}>
																		<lightning-icon icon-name="utility:success" alternative-text="% Completed" size="x-small" title="% Completed"></lightning-icon>
																		&nbsp;<span> :{questionaryEntry.responsesPercentage}%</span>
																	</div>
																	<div class="slds-col cib-flag" title="Additional Requests" key={questionaryEntry.section}>
																		<lightning-icon icon-name="utility:priority" alternative-text="Additional Requests" size="x-small" title="Additional Requests"></lightning-icon>
																		&nbsp;<span> :{questionaryEntry.displayFlag}</span>
																	</div>
																</div>
															</div>
														</div>
													</span>
											    </button>
											</h2>
										</div>
										<div class="slds-accordion__content" key={questionaryEntry.section}
											id="referenceId-22">
											<c-rtmvpc-render-question-template responses={questionaryEntry.questions}
												sectionid={questionaryEntry.sectionId} onvaluechange={onResponseChange}
												onfileupload={handleFileUpload} onselectchange={handlechatHistory}
												ondeleteattachment={handledeletefile} onselectquestion={selectquestionHandler}>
											</c-rtmvpc-render-question-template>
										</div>
									</template>
								</section>
							</li>
						</ul>
					</div>

					<!-- <template if:true={isSubmitted}>
						<div class="slds-p-around_medium slds-p-left_none slds-p-right_none"
							style="display:flex; justify-content: space-between; align-items:center">
						</div>
					</template> -->
					<!-- <div class="slds-border_top slds-m-top_small"></div> -->

					<!-- Displays Save, Save & Submit buttons if the Assessment is not Submitted --START-->
					<template lwc:if={showButtons.Save_Submit}>
						<br>
						<lightning-button variant="Brand" label="Save & Submit" title="Save Response"
							onclick={handleSubmit} flexibility="auto" class="slds-float--right slds-button_neutral">
						</lightning-button>
						&nbsp;&nbsp;
						<lightning-button variant="Brand" label="Save" title="Save Response" onclick={handleSave}
							flexibility="auto" class="slds-float--right" style="margin-right: 5px;"></lightning-button>
						&nbsp;&nbsp;</br>
					</template>
					<!-- Displays Save, Save & Submit buttons if the Assessment is not Submitted --END-->
				</div>
			</div>

			<!-- Footer --START-->
			<div class="slds-p-horizontal_large slds-p-top_small">
				<span>SUBMITTED BY: &nbsp;&nbsp;<b>{supplierAssessmentName}</b></span><br/>
				<span>SUBMITTED DATE: &nbsp;&nbsp;<b>{supplierAssCreatedDate}</b>
				</span>
			</div>
			<!-- Footer --END-->
		</div>
	</div>
</template>